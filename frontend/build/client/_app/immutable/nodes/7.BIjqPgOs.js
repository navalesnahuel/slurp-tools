import{t as D,a as C,b as St,n as zt}from"../chunks/B9q02PmC.js";import"../chunks/CEYA472p.js";import{X as Ft,Z as O,_ as Pt,$ as Bt,a0 as Et,a2 as h,a3 as u,d as e,q as f,Y as s,ao as r,a4 as p,a5 as $,e as je,a7 as Ge,a1 as Re,a6 as Ot}from"../chunks/CkTvmw98.js";import{h as $t,e as y,s as T}from"../chunks/l61C7KQG.js";import{i as F}from"../chunks/lPEFebrr.js";import{b as Ue,f as Ie,s as Vt,a as se}from"../chunks/B1tgAyqo.js";import{s as Ne}from"../chunks/D0lxRREg.js";import{b as Ze}from"../chunks/DBx-IR2N.js";import{i as Ht}from"../chunks/DNmyc9OO.js";import{o as Wt,a as Xt}from"../chunks/DnHmEvXm.js";import{s as Yt,c as qt,u as Tt,r as jt,g as Ce,i as Gt}from"../chunks/D2J15UbQ.js";const Nt=!0,Zt=Nt;var Jt=D('<p class="error-message svelte-nl3ks"> </p>'),Kt=D(`<div class="initial-upload-state svelte-nl3ks"><h1 class="svelte-nl3ks">Image Scanner</h1> <p class="tool-description svelte-nl3ks">Select an image, adjust the red corners to define the area, and click "Scan &
					Upload".</p> <div class="input-area file-input-section svelte-nl3ks"><button class="file-label button-like svelte-nl3ks"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24" fill="currentColor" style="margin-bottom: 0.5rem;" class="svelte-nl3ks"><path d="M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM14 13v4h-4v-4H7l5-5 5 5h-3z" class="svelte-nl3ks"></path></svg>Scan Image</button></div> <!></div>`),Qt=D('<p class="error-message svelte-nl3ks"> </p>'),es=D('<div class="loading-state svelte-nl3ks"><div class="spinner svelte-nl3ks"></div> <p class="svelte-nl3ks"> </p> <!></div>'),ts=D('<span class="button-spinner svelte-nl3ks"></span> ',1),ss=D('<img class="svelte-nl3ks"> <canvas class="svelte-nl3ks"></canvas>',1),as=D('<p class="placeholder-text error-message svelte-nl3ks">Could not load image.</p>'),ls=D('<div class="main-area-overlay svelte-nl3ks"><div class="spinner svelte-nl3ks"></div> <p class="svelte-nl3ks"> </p></div>'),ns=D('<p class="filename svelte-nl3ks"> </p>'),is=D('<p class="placeholder-text svelte-nl3ks">No image loaded.</p>'),os=D('<p class="original-dims-info svelte-nl3ks"> </p>'),rs=D('<span class="button-spinner svelte-nl3ks"></span> ',1),cs=zt('<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16" style="margin-right: 0.5em;" class="svelte-nl3ks"><path d="M4.603 14.087a.8.8 0 0 1-1.087.955l-4.2-3.001a.8.8 0 0 1-.033-1.11l2.141-2.263a.8.8 0 1 1 1.162 1.09l-1.28 1.358 3.136 2.24a.8.8 0 0 1 .033 1.11z" class="svelte-nl3ks"></path><path fill-rule="evenodd" d="M5.824 1.936a2.5 2.5 0 0 1 4.352 0l2.141 2.262a.8.8 0 0 1-.033 1.11l-4.2 3.001a.8.8 0 0 1-1.087-.955l1.28-1.358-3.136-2.24a.8.8 0 0 1-.033-1.11l2.141-2.263zM8 5.616a.5.5 0 0 1 .5.5v3.868a.5.5 0 0 1-1 0V6.116a.5.5 0 0 1 .5-.5zm0 7.25a.8.8 0 1 1 0-1.6.8.8 0 0 1 0 1.6z" class="svelte-nl3ks"></path><path d="M12.25 2.642a1.5 1.5 0 0 0-2.75-1.053L8.64 2.5H7.36L6.5 1.589A1.5 1.5 0 0 0 3.75 2.642v10.716A1.5 1.5 0 0 0 5.25 14.9h5.5A1.5 1.5 0 0 0 12.25 13.358V2.642zm-1.5 0a.5.5 0 0 1 .5.5v10.716a.5.5 0 0 1-.5.5h-5.5a.5.5 0 0 1-.5-.5V3.142a.5.5 0 0 1 .5-.5h5.5z" class="svelte-nl3ks"></path></svg> Download PDF'),vs=D('<p class="error-message sidebar-error svelte-nl3ks"> </p>'),ds=D('<div><div class="top-toolbar svelte-nl3ks"><div class="toolbar-left svelte-nl3ks"><span class="toolbar-label svelte-nl3ks">Scanner</span></div> <div class="toolbar-right svelte-nl3ks"><button class="apply-button button-like toolbar-button svelte-nl3ks"><!></button></div></div> <div class="main-area svelte-nl3ks"><div class="image-canvas-wrapper svelte-nl3ks"><!></div> <!></div> <div class="right-sidebar svelte-nl3ks"><div class="sidebar-section file-management svelte-nl3ks"><h4 class="h4-mauve svelte-nl3ks">Image</h4> <!> <!></div> <div class="sidebar-section controls svelte-nl3ks"><h4 class="h4-teal svelte-nl3ks">Edit Controls</h4> <div class="control-item history-controls svelte-nl3ks"><button class="button-like history-button svelte-nl3ks" title="Rotate 90° Clockwise"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16" class="svelte-nl3ks"><path fill-rule="evenodd" d="M8 3a5 5 0 1 0 4.546 2.914.5.5 0 0 1 .908-.417A6 6 0 1 1 8 2v1z" class="svelte-nl3ks"></path><path d="M8 4.466V.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384L8.41 4.658A.25.25 0 0 1 8 4.466z" class="svelte-nl3ks"></path></svg> <span class="svelte-nl3ks">Rotate 90°</span></button><button class="button-like history-button svelte-nl3ks" title="Rotate 90° Counter-Clockwise"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16" class="svelte-nl3ks"><path fill-rule="evenodd" d="M8 3a5 5 0 1 1-4.546 2.914.5.5 0 0 0-.908-.417A6 6 0 1 0 8 2v1z" class="svelte-nl3ks"></path><path d="M8 4.466V.534a.25.25 0 0 0-.41-.192L5.23 2.308a.25.25 0 0 0 0 .384l2.36 1.966A.25.25 0 0 0 8 4.466z" class="svelte-nl3ks"></path></svg> <span class="svelte-nl3ks">Rotate -90°</span></button></div> <div class="control-item history-controls svelte-nl3ks"><button class="button-like history-button svelte-nl3ks" title="Undo Last Action"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16" class="svelte-nl3ks"><path fill-rule="evenodd" d="M8 3a5 5 0 1 1-4.546 2.914.5.5 0 0 0-.908-.417A6 6 0 1 0 8 2v1z" class="svelte-nl3ks"></path><path d="M8 4.466V.534a.25.25 0 0 0-.41-.192L5.23 2.308a.25.25 0 0 0 0 .384l2.36 1.966A.25.25 0 0 0 8 4.466z" class="svelte-nl3ks"></path></svg> <span class="svelte-nl3ks">Undo</span></button><button class="button-like history-button svelte-nl3ks" title="Redo Last Action"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16" class="svelte-nl3ks"><path fill-rule="evenodd" d="M8 3a5 5 0 1 0 4.546 2.914.5.5 0 0 1 .908-.417A6 6 0 1 1 8 2v1z" class="svelte-nl3ks"></path><path d="M8 4.466V.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384L8.41 4.658A.25.25 0 0 1 8 4.466z" class="svelte-nl3ks"></path></svg> <span class="svelte-nl3ks">Redo</span></button></div></div> <div class="sidebar-section download-section svelte-nl3ks"><div style="display: flex; flex-direction: column; gap: 0.8rem;" class="svelte-nl3ks"><button class="button-like save-button svelte-nl3ks" title="Open final image in a new tab">Open Image</button> <button class="button-like download-pdf-button svelte-nl3ks"><!></button></div></div> <!></div></div>'),us=D('<div class="editor-wrapper svelte-nl3ks"><div class="page-container svelte-nl3ks"><!> <input type="file" id="file-input" accept="image/png, image/jpeg, image/webp, image/gif" style="display: none;" class="svelte-nl3ks"></div></div>');function Rs(Je,Ke){Ft(Ke,!1);const v=f(),oe=f(),re=f(),G=f(),ce=f(),N=f(),Me=f(),Ae=f(),De=f(),ne=f();let q=f(null),Z=f(""),M=f(null),U=f(null),P=f(""),j=f(null),B=f(!1),V=f(!1),w=f(""),m=f(""),A=f(null),t=f(null),i=f(null),W=f(0),X=f(0),_=0,x=0;const Le=8;let S=[{x:.05,y:.05},{x:.95,y:.05},{x:.95,y:.95},{x:.05,y:.95}],z=f(-1),b=f(!1),J=null;function Qe(){J=new ResizeObserver(a=>{for(let l of a)if(l.target===e(A)&&e(t)&&e(t).parentElement&&e(b)){const o=e(A).getBoundingClientRect(),d=o.width,k=o.height,R=e(t).parentElement.getBoundingClientRect(),I=d!==_||k!==x;if(d>0&&k>0){const L=o.left-R.left,H=o.top-R.top;r(t,e(t).style.left=`${L}px`),r(t,e(t).style.top=`${H}px`),I&&(_=d,x=k,r(t,e(t).width=_),r(t,e(t).height=x),requestAnimationFrame(ve))}else(_>0||x>0)&&(r(t,e(t).style.left="0px"),r(t,e(t).style.top="0px"),r(t,e(t).width=0),r(t,e(t).height=0),_=0,x=0,e(i)&&e(i).clearRect(0,0,0,0))}})}function Se(a){J&&a&&J.observe(a)}function K(){if(J&&e(A))try{J.unobserve(e(A))}catch{}}function ae(){e(j)&&e(j).startsWith("blob:")&&(URL.revokeObjectURL(e(j)),s(j,null))}function et(a){var d;const l=a.target,o=(d=l.files)==null?void 0:d[0];o&&Zt?(K(),ae(),s(q,o),s(M,null),s(U,null),s(Z,o.name),s(m,""),s(B,!1),s(V,!1),s(w,"Loading image..."),S=[{x:.05,y:.05},{x:.95,y:.05},{x:.95,y:.95},{x:.05,y:.95}],s(b,!0),s(W,0),s(X,0),_=0,x=0,e(i)&&e(t)&&(e(i).clearRect(0,0,e(t).width,e(t).height),r(t,e(t).width=0),r(t,e(t).height=0)),s(P,URL.createObjectURL(o)),s(j,e(P)),l.value=null):l&&(l.value=null)}function ve(){if(!e(t)||!e(A)||!e(i)||!e(b)||_<=0||x<=0){e(i)&&e(t)&&e(i).clearRect(0,0,e(t).width,e(t).height);return}e(i).clearRect(0,0,_,x),r(i,e(i).strokeStyle="rgba(255, 0, 0, 0.7)"),r(i,e(i).lineWidth=2),e(i).beginPath(),e(i).moveTo(S[0].x*_,S[0].y*x);for(let a=1;a<S.length;a++)e(i).lineTo(S[a].x*_,S[a].y*x);e(i).closePath(),e(i).stroke(),r(i,e(i).fillStyle="rgba(255, 0, 0, 0.8)"),r(i,e(i).strokeStyle="rgba(0, 0, 0, 0.5)"),r(i,e(i).lineWidth=1),S.forEach((a,l)=>{e(i).beginPath(),e(i).arc(a.x*_,a.y*x,Le,0,Math.PI*2),e(i).fill(),e(i).stroke()})}function ze(a){if(!e(t))return{x:0,y:0};const l=e(t).getBoundingClientRect(),o=a.touches?a.touches[0].clientX:a.clientX,d=a.touches?a.touches[0].clientY:a.clientY;return{x:o-l.left,y:d-l.top}}function Fe(a){if(a.preventDefault(),!e(b)||e(v)||_<=0||x<=0||!e(t))return;const l=ze(a),o=(Le*1.8)**2;for(let d=0;d<S.length;d++){const k=S[d].x*_,R=S[d].y*x,I=l.x-k,L=l.y-R;if(I*I+L*L<o){s(z,d),r(t,e(t).style.cursor="grabbing");return}}s(z,-1)}function Pe(a){if(a.preventDefault(),e(z)===-1||e(v)||!e(t)||_<=0||x<=0)return;const l=ze(a);let o=Math.max(0,Math.min(1,l.x/_)),d=Math.max(0,Math.min(1,l.y/x));S[e(z)].x=o,S[e(z)].y=d,requestAnimationFrame(ve)}function Be(a){a.preventDefault(),e(z)!==-1&&(s(z,-1),e(t)&&e(b)&&!e(v)&&r(t,e(t).style.cursor="grab"))}function tt(){e(b)&&!e(v)&&e(t)&&e(z)===-1&&r(t,e(t).style.cursor="grab")}function st(){e(z)===-1&&!e(v)&&e(t)&&r(t,e(t).style.cursor="default")}function at(){e(A)&&(s(W,e(A).naturalWidth),s(X,e(A).naturalHeight),e(W),e(X),!e(V)&&(e(w)==="Loading image..."||e(w)==="Loading new version...")?(s(B,!1),s(w,"")):!e(V)&&e(B)&&(s(B,!1),s(w,"")),!e(i)&&e(t)&&s(i,e(t).getContext("2d")),Ge().then(()=>{if(e(A)){const a=e(A).getBoundingClientRect();if(a.width>0&&a.height>0&&e(t)){const l=e(t).parentElement.getBoundingClientRect();_=a.width,x=a.height,r(t,e(t).width=_),r(t,e(t).height=x),r(t,e(t).style.left=`${a.left-l.left}px`),r(t,e(t).style.top=`${a.top-l.top}px`),e(b)&&requestAnimationFrame(ve)}Se(e(A))}}))}function lt(){e(m)||s(m,"Error: Failed to load image preview."),K(),de(!0)}function Ee(){if(!e(M)){s(m,"Cannot refresh image: No image UUID available."),de(!0);return}s(B,!0),s(V,!1),s(w,"Loading new version..."),s(m,""),s(b,!1),K(),ae();const a=Ce(e(M))+"?t="+Date.now();s(P,a)}function de(a=!1){K(),ae(),s(q,null),s(Z,""),s(M,null),s(U,null),s(P,""),s(W,0),s(X,0),_=0,x=0,s(B,!1),s(V,!1),s(w,""),s(b,!1),s(z,-1),a||s(m,""),e(i)&&e(t)&&(e(i).clearRect(0,0,e(t).width,e(t).height),r(t,e(t).width=0),r(t,e(t).height=0),r(t,e(t).style.left="0px"),r(t,e(t).style.top="0px"),r(t,e(t).style.cursor="default"),r(t,e(t).style.display="none"))}function nt(a,l=25){if(!a)return"";if(a.length<=l)return a;const o=a.lastIndexOf("."),d=o!==-1?a.substring(o):"",k=o!==-1?a.substring(0,o):a,R=Math.max(0,l-d.length-3);return`${k.length>R?k.substring(0,R):k}...${d}`}async function it(){if(!e(q)||!e(W)||!e(X)){s(m,"Please select an image and wait for it to load completely.");return}if(!e(b)||!e(j)){s(m,"Cannot apply scan - editor state is inconsistent. Please re-select the image.");return}s(B,!0),s(V,!1),s(w,"Scanning & Uploading..."),s(m,""),s(b,!1),K(),e(i)&&e(t)&&(e(i).clearRect(0,0,e(t).width,e(t).height),r(t,e(t).style.display="none"));try{const a=S.map(o=>[Math.round(o.x*e(W)),Math.round(o.y*e(X))]),l=await Yt(e(q),a);s(U,l),s(M,l.UUID),s(q,null),s(Z,`Processed: ${l.UUID.substring(0,8)}...`),ae(),Ee()}catch(a){s(m,a.message||"An unknown error occurred during scanning and upload."),de(!0)}}async function ue(a,l="filter"){if(!e(U)||!e(M)||e(v)){s(m,`Cannot apply ${l} - no valid server image state or already processing.`);return}s(B,!0),s(w,`Applying ${l}...`),s(m,""),s(b,!1),K();try{const o=await a;s(U,o),s(M,o.UUID),Ee()}catch(o){s(m,o.message||`Failed to apply ${l}.`),s(B,!1),s(w,""),Ge().then(()=>{e(A)&&Se(e(A))})}}function Oe(a){!e(U)||!e(M)||e(v)||ue(qt(e(U).UUID,a),`Rotate ${a}°`)}async function ot(){!e(U)||!e(M)||e(U).Version<1||e(v)||ue(Tt(e(U).UUID),"Undo")}async function rt(){!e(U)||!e(M)||e(v)||ue(jt(e(U).UUID),"Redo")}function ct(){if(!e(M)||e(v))return;const a=Ce(e(M)),l=`${a}${a.includes("?")?"&":"?"}t=${Date.now()}`;window.open(l,"_blank")}async function vt(){var a;if(e(ne)){s(V,!0),s(w,"Generating PDF..."),s(m,"");try{const l=Ce(e(M)),o=await fetch(l);if(!o.ok)throw new Error(`Failed to fetch processed image data: ${o.status} ${o.statusText}`);const d=await o.blob(),k=d.type.split("/")[1]||"png",R=`scanned_${e(M)}_v${((a=e(U))==null?void 0:a.Version)||0}.${k}`,I=new File([d],R,{type:d.type});await Gt([I])}catch(l){s(m,l.message||"An unknown error occurred while generating the PDF.")}finally{s(V,!1),s(w,"")}}}function dt(){var a;e(v)||(a=document.getElementById("file-input"))==null||a.click()}Wt(()=>{Qe(),e(t)&&s(i,e(t).getContext("2d"))}),Xt(()=>{K(),J&&J.disconnect(),ae()}),O(()=>(e(B),e(V)),()=>{s(v,e(B)||e(V))}),O(()=>(e(q),e(P)),()=>{s(oe,!!e(q)||!!e(P))}),O(()=>(e(q),e(W),e(X),e(b)),()=>{s(re,!!e(q)&&!!e(W)&&e(X)>0&&e(b))}),O(()=>(e(U),e(M),e(b),e(v),e(P),e(j)),()=>{s(G,!!e(U)&&!!e(M)&&!e(b)&&!e(v)&&!!e(P)&&!e(j))}),O(()=>(e(re),e(v)),()=>{s(ce,e(re)&&!e(v))}),O(()=>(e(G),e(v)),()=>{s(N,e(G)&&!e(v))}),O(()=>(e(N),e(U)),()=>{var a;s(Me,e(N)&&((a=e(U))==null?void 0:a.Version)>0)}),O(()=>e(N),()=>{s(Ae,e(N))}),O(()=>(e(G),e(v)),()=>{s(De,e(G)&&!e(v))}),O(()=>(e(G),e(v)),()=>{s(ne,e(G)&&!e(v))}),O(()=>(e(t),e(i)),()=>{e(t)&&!e(i)&&s(i,e(t).getContext("2d"))}),O(()=>(e(t),e(b),e(i),e(v),e(z)),()=>{e(t)&&(r(t,e(t).style.display=e(b)?"block":"none"),!e(b)&&e(i)&&e(i).clearRect(0,0,e(t).width,e(t).height),e(b)&&!e(v)&&e(z)===-1?r(t,e(t).style.cursor="grab"):e(z)!==-1?r(t,e(t).style.cursor="grabbing"):r(t,e(t).style.cursor="default"))}),Pt(),Ht();var fe=us();$t(a=>{Et.title="Image Scanner - Slurp Tools"});var $e=u(fe),Ve=u($e);{var ut=a=>{var l=Kt(),o=h(u(l),4),d=u(o);p(o);var k=h(o,2);{var R=I=>{var L=Jt(),H=u(L,!0);p(L),$(()=>T(H,e(m))),C(I,L)};F(k,I=>{e(m)&&I(R)})}p(l),$(()=>d.disabled=e(v)),y("click",d,dt),Ue(3,l,()=>Ie,()=>({duration:200})),C(a,l)},ft=(a,l)=>{{var o=k=>{var R=es(),I=h(u(R),2),L=u(I,!0);p(I);var H=h(I,2);{var ie=Q=>{var te=Qt(),ee=u(te,!0);p(te),$(()=>T(ee,e(m))),C(Q,te)};F(H,Q=>{e(m)&&Q(ie)})}p(R),$(()=>T(L,e(w)||"Loading...")),Ue(3,R,()=>Ie,()=>({duration:200})),C(k,R)},d=(k,R)=>{{var I=L=>{var H=ds();let ie;var Q=u(H),te=h(u(Q),2),ee=u(te),gt=u(ee);{var ht=n=>{var c=ts(),g=h(Re(c));$(()=>T(g,` ${e(w)??""}`)),C(n,c)},mt=n=>{var c=St("Scan & Upload");C(n,c)};F(gt,n=>{e(B)&&e(w).startsWith("Scanning")?n(ht):n(mt,!1)})}p(ee),p(te),p(Q);var pe=h(Q,2),ge=u(pe),bt=u(ge);{var kt=n=>{var c=ss(),g=Re(c);let Y;Ze(g,xe=>s(A,xe),()=>e(A));var E=h(g,2);Ne(E,"",{},{"touch-action":"none"}),Ze(E,xe=>s(t,xe),()=>e(t)),$(()=>{se(g,"key",e(P)),se(g,"src",e(P)),se(g,"alt",e(Z)||"Image preview"),Y=Ne(g,"",Y,{opacity:e(v)&&!e(b)?.6:1})}),y("load",g,at),y("error",g,lt),y("mousedown",E,Fe),y("mousemove",E,Pe),y("mouseup",E,Be),y("mouseleave",E,st),y("mouseenter",E,tt),y("touchstart",E,Fe),y("touchmove",E,Pe),y("touchend",E,Be),C(n,c)},wt=(n,c)=>{{var g=Y=>{var E=as();C(Y,E)};F(n,Y=>{e(v)||Y(g)},c)}};F(bt,n=>{e(P)?n(kt):n(wt,!1)})}p(ge);var yt=h(ge,2);{var _t=n=>{var c=ls(),g=h(u(c),2),Y=u(g,!0);p(g),p(c),$(()=>T(Y,e(w)||"Processing...")),C(n,c)};F(yt,n=>{e(v)&&e(w)&&!e(w).includes("Loading new version")&&n(_t)})}p(pe);var He=h(pe,2),he=u(He),We=h(u(he),2);{var xt=n=>{var c=ns(),g=u(c,!0);p(c),$(Y=>{se(c,"title",e(Z)),T(g,Y)},[()=>nt(e(Z))],je),C(n,c)},Rt=n=>{var c=is();C(n,c)};F(We,n=>{e(Z)?n(xt):n(Rt,!1)})}var Ut=h(We,2);{var It=n=>{var c=os(),g=u(c);p(c),$(()=>T(g,`Orig. Dims: ${e(W)??""} x ${e(X)??""} px`)),C(n,c)};F(Ut,n=>{e(W)&&e(X)&&n(It)})}p(he);var me=h(he,2),be=h(u(me),2),ke=u(be),Xe=h(ke);p(be);var Ye=h(be,2),we=u(Ye),qe=h(we);p(Ye),p(me);var ye=h(me,2),Te=u(ye),_e=u(Te),le=h(_e,2),Ct=u(le);{var Mt=n=>{var c=rs(),g=h(Re(c));$(()=>T(g,` ${e(w)||"Generating PDF..."}`)),C(n,c)},At=n=>{var c=cs();Ot(),C(n,c)};F(Ct,n=>{e(V)?n(Mt):n(At,!1)})}p(le),p(Te),p(ye);var Dt=h(ye,2);{var Lt=n=>{var c=vs(),g=u(c,!0);p(c),$(()=>T(g,e(m))),C(n,c)};F(Dt,n=>{e(m)&&n(Lt)})}p(He),p(H),$(n=>{ie=Vt(H,1,"editor-interface svelte-nl3ks",null,ie,n),ee.disabled=!e(ce),se(ee,"title",e(ce)?"Apply Perspective Correction & Scan Filters":"Select image & wait for it to load fully, or process is busy"),ke.disabled=!e(N),Xe.disabled=!e(N),we.disabled=!e(Me),qe.disabled=!e(Ae),_e.disabled=!e(De),le.disabled=!e(ne),se(le,"title",e(ne)?"Generate and download PDF":"Process an image first or wait for current process")},[()=>({loading:e(v)})],je),y("click",ee,it),y("click",ke,()=>Oe(90)),y("click",Xe,()=>Oe(-90)),y("click",we,ot),y("click",qe,rt),y("click",_e,ct),y("click",le,vt),Ue(3,H,()=>Ie,()=>({duration:300})),C(L,H)};F(k,L=>{(e(oe)||e(v))&&L(I)},R)}};F(a,k=>{e(v)&&!e(P)?k(o):k(d,!1)},l)}};F(Ve,a=>{!e(oe)&&!e(v)?a(ut):a(ft,!1)})}var pt=h(Ve,2);p($e),p(fe),y("change",pt,et),C(Je,fe),Bt()}export{Rs as component};
