let i=!1,s=null;async function a(){return i?Promise.resolve():s||(s=new Promise(async(r,o)=>{try{if(typeof Cropper<"u"){i=!0,r();return}const n=!!document.querySelector('script[src*="cropper.min.js"]'),p=!!document.querySelector('link[href*="cropper.min.css"]'),t=[];if(!p){const e=document.createElement("link");e.rel="stylesheet",e.href="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.13/cropper.min.css",document.head.appendChild(e)}if(n)typeof Cropper>"u"&&t.push(new Promise(e=>setTimeout(e,150)));else{const e=document.createElement("script");e.src="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.13/cropper.min.js",e.async=!0,t.push(new Promise((c,l)=>{e.onload=()=>{c()},e.onerror=d=>{l(new Error("Failed to load Cropper.js script."))},document.head.appendChild(e)}))}t.length>0&&await Promise.all(t),typeof Cropper<"u"?(i=!0,r()):o(new Error("Cropper.js library failed to initialize."))}catch(n){o(n)}finally{s=null}}),s)}function u(r){if(r)try{r.destroy()}catch{}return null}export{u as d,a as l};
